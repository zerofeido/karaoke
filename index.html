<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>音域類似曲検索</title>
    <link rel="stylesheet" href="css/style.css" />
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />

    <!-- jQuery CDN -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <!-- jQuery UI（CSS + JS）-->
    <link
      rel="stylesheet"
      href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css"
    />
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>

    <!-- Select2 -->
    <link
      href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

    <!-- google font -->
  </head>
  <body>
    <div class="pageTitleContainer">
      <h1 class="pageTitle">TuneFinder</h1>
    </div>

    <div class="container">
      <section class="form-group marginTop15">
        <div class="form-group">
          <label for="artistSelect">アーティスト名で絞り込み：</label>
          <select id="artistSelect" style="width: 100%"></select>
        </div>

        <div class="index-song form-group">
          <label for="songSelect">曲名：</label>
          <select id="songSelect" style="width: 100%"></select>
        </div>

        <!-- 詳細条件トグルボタン -->
        <div class="accordion">
          <div class="accordion-header">詳細条件 ▼</div>
          <div class="accordion-content index-accordion">
            <!-- 上限補正 -->
            <div class="adjust-row">
              <label for="maxAdjust">高音調整（半音）</label>
              <!-- ラベル -->
              <div class="rangeLabels">
                <span class="rangeLabel left">狭める</span>
                <span class="rangeLabel right">広げる</span>
              </div>
              <!-- レンジスライダー -->
              <div class="slider-container">
                <button class="step-btn" data-target="maxAdjust" data-diff="-1">
                  －
                </button>
                <input
                  type="range"
                  id="maxAdjust"
                  min="-12"
                  max="12"
                  step="1"
                  value="0"
                  class="inputRange"
                />
                <button class="step-btn" data-target="maxAdjust" data-diff="1">
                  ＋
                </button>
              </div>
              <div class="current-value">
                現在値: <span id="maxAdjustValue">0</span>
              </div>
            </div>

            <!-- 下限補正 -->
            <div class="adjust-row">
              <label for="minAdjust">低音調整（半音）</label>
              <!-- ラベル -->
              <div class="rangeLabels">
                <span class="rangeLabel left">広げる</span>
                <span class="rangeLabel right">狭める</span>
              </div>
              <!-- レンジスライダー -->
              <div class="slider-container">
                <button class="step-btn" data-target="minAdjust" data-diff="-1">
                  －
                </button>
                <input
                  type="range"
                  id="minAdjust"
                  min="-12"
                  max="12"
                  step="1"
                  value="0"
                  class="inputRange"
                />
                <button class="step-btn" data-target="minAdjust" data-diff="1">
                  ＋
                </button>
              </div>
              <div class="current-value">
                現在値: <span id="minAdjustValue">0</span>
              </div>
            </div>
          </div>
        </div>

        <button class="searchButton">
          <i class="fa-solid fa-magnifying-glass"></i> 類似楽曲を検索
        </button>
      </section>

      <section id="resultSection">
        <div id="resultHeader">
          <h2>検索結果</h2>
          <!-- <span class="resultCount">(0件)</span> -->
        </div>
        <ul id="resultList"></ul>

        <!-- コピー用ボタン -->
        <button id="copyResultsBtn" class="copy-btn">
          <i class="fa-solid fa-copy"></i> 検索結果をコピー
        </button>
      </section>
    </div>

    <!-- ボトムナビ -->
    <div class="bottomNavContainer">
      <!-- アンケートリンク + モード切替スイッチ -->
      <div class="bottomNav bottomNavTop">
        <div class="survey bottomNavLinkWraper">
          <a
            class="bottomNavIcon"
            href="https://forms.gle/zAiUvrQYJP4nxj4BA"
            target="_blank"
            ><i class="fa-regular fa-comment-dots"></i>
            <!-- リクエスト -->
          </a>
        </div>
        <div class="ofuse bottomNavLinkWraper">
          <a
            class="bottomNavIcon"
            href="https://ofuse.me/zerofeido"
            target="_blank"
            ><i class="fa-solid fa-hand-holding-heart"></i>
            <!-- お布施 -->
          </a>
        </div>
        <div class="toggleSwitchContainer">
          <p class="bottomNavIcon">
            <i class="fa-regular fa-lightbulb"></i>
            <!-- モード切替 -->
          </p>
          <label class="switch">
            <input type="checkbox" id="modeSwitch" />
            <span class="slider"></span>
          </label>
        </div>
      </div>

      <div class="bottomNav bottomNavBottom">
        <button class="nav-item" data-href="index.html">TuneFinder</button>
        <!-- <button class="nav-item" data-href="search-key-range.html">
        キー範囲検索
      </button> -->
        <button class="nav-item" data-href="key-adjust.html">
          KaraokeTuneUp
        </button>
        <button class="nav-item" data-href="utaite-tune.html">
          UtaiteTune
        </button>
      </div>
    </div>

    <script type="module" src="js/index.js"></script>
    <script type="module">
      import { changeMode, initBottomNav } from "./js/utils.js";
      changeMode();
      initBottomNav();
    </script>
  </body>
</html>
