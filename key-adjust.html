<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>音域調整シミュレーション</title>
    <link rel="stylesheet" href="css/style.css" />
    <!-- jQuery CDN -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <!-- jQuery UI（CSS + JS）-->
    <link
      rel="stylesheet"
      href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css"
    />
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>

    <!-- Select2 -->
    <link
      href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  </head>
  <body>
    <div class="keyAdjustContainer container">
      <h1>音域調整<br />シミュレーション</h1>

      <section>
        <!-- 歌いたい曲 -->
        <section id="targetSection">
          <div class="form-group">
            <label for="targetArtist">アーティスト名で絞り込み：</label>
            <select id="targetArtist"></select>
          </div>

          <div class="form-group">
            <label for="targetSong">歌いたい曲：</label>
            <select
              type="text"
              id="targetSong"
              name="targetSong"
              placeholder="曲名を入力してください"
            ></select>
          </div>
        </section>

        <!-- 歌える曲 -->
        <section id="referenceSection">
          <div class="form-group">
            <label for="referenceArtist">アーティスト名で絞り込み：</label>
            <select id="referenceArtist"></select>
          </div>

          <div class="form-group">
            <label for="referenceSong">歌える曲：</label>
            <select
              type="text"
              id="referenceSong"
              name="referenceSong"
              placeholder="曲名を入力してください"
            ></select>
          </div>
        </section>

        <button id="checkButton" type="button">適正キーを調べる</button>
      </section>

      <section id="resultSection" style="display: none">
        <h2>推奨キー変更幅</h2>
        <p id="recommendationText"></p>
      </section>
    </div>

    <details id="keyTips" class="key-tips">
      <summary>🎤 キー調整のヒント</summary>
      <ul>
        <li>
          👨 男性が女性曲を歌う場合 → <strong>オクターブ下げる（-12）</strong>
        </li>
        <li>
          👩 女性が男性曲を歌う場合 → <strong>オクターブ上げる（+12）</strong>
        </li>
        <li>🎶 キーを±1ずつ調整しながら、自分に合う音域を探してみましょう！</li>
      </ul>
    </details>

    <!-- ボトムナビ -->
    <div class="bottomNavContainer">
      <!-- アンケートリンク + モード切替スイッチ -->
      <div class="bottomNav bottomNavTop">
        <div class="survey">
          <a href="https://forms.gle/zAiUvrQYJP4nxj4BA" target="_blank"
            >リクエスト</a
          >
        </div>
        <div class="toggleSwitchContainer">
          <p class="child-text">ライトモード</p>
          <label class="switch">
            <input type="checkbox" id="modeSwitch" />
            <span class="slider"></span>
          </label>
        </div>
      </div>

      <div class="bottomNav bottomNavBottom">
        <button class="nav-item" data-href="index.html">音域類似曲検索</button>
        <!-- <button class="nav-item" data-href="search-key-range.html">
        キー範囲検索
      </button> -->
        <button class="nav-item" data-href="key-adjust.html">
          音域調整<br />シミュレーション
        </button>
      </div>
    </div>

    <script type="module" src="js/key-adjust.js"></script>
    <script type="module">
      import { changeMode, initBottomNav } from "./js/utils.js";
      changeMode();
      initBottomNav();
    </script>
  </body>
</html>

